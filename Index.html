<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CasualChat</title>
    </head>
    <body>
        <h1>CasualChat</h1>
        <label for="roomInput">Inserisci il nome della sala:</label>
        <input type="text" id="roomInput" />
        <button onclick="joinRoom()">Entra nella Chat</button>

        <script src="https://cdn.socket.io/4.1.3/socket.io.min.js"></script>
        <script>
            const socket = io();
            let room;

            function joinRoom() {
            room = document.getElementById('roomInput').value;
            socket.emit('joinRoom', room);
            }

            socket.on('connect', () => {
            console.log('Connesso al server');
            });

            socket.on('disconnect', () => {
            console.log('Disconnesso dal server');
            });

            socket.on('message', (message) => {
            console.log(message);
            });
        </script>

        <label for="messageInput">Inserisci un messaggio:</label>
        <input type="text" id="messageInput" />
        <button onclick="sendMessage()">Invia</button>

        <script>
        function sendMessage() {
            const message = document.getElementById('messageInput').value;
            socket.emit('sendMessage', message);
        }

        socket.on('message', (message) => {
            console.log(message);
        });
        </script>

    </body>
</html>
